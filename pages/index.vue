<template>
    <div class="w-full mx-auto h-full py-0 my-0 ">
        <div class="lg:w-6/12 w-full md:w-10/12 mx-auto content lg:py-24 md:py-16 py-8 px-4 md:px-0">
            <div class="w-40 h-40 rounded-full shadow-sm mb-6">
                <img class="h-full w-full rounded-full" src="../static/pic.jpeg" alt="">
            </div>
            <h2 class="md:text-2xl text-xl font-medium mb-2">–ü—Ä–∏–≤–µ—Ç, —è ‚Äî –ö–æ—Å—Ç—è üññ</h2>
            <p class="md:text-lg text-base font-normal mb-4">–î–Ω–µ–º –ø—Ä–µ–ø–æ–¥–∞—é –∞–Ω–≥–ª–∏–π—Å–∫–∏–π, –ø–æ –Ω–æ—á–∞–º –ø–∏—à—É –∫–æ–¥. –ó–¥–µ—Å—å –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É—é: —á—Ç–æ –¥–µ–ª–∞—é, —á—Ç–æ —Å–¥–µ–ª–∞–ª, —á—Ç–æ —É–∑–Ω–∞–ª –Ω–æ–≤–æ–≥–æ, —á—Ç–æ –ø–æ–ª—É—á–∏–ª–æ—Å—å –∏ —Ç.–ø.</p>
            <div v-for="post in posts" :key="post.slug" class="border-b border-gray-200 border-dashed py-12">
                <span>
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-indigo-400 mb-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
                    </svg>
                </span>
                <h1 class="text-xl font-medium mb-1">
                    {{ post.title }}
                </h1>
                <p class="text-xs mb-4" style="color: #666666;">
                    {{ get_date(post.date) }}
                </p>
                <nuxt-content :document="post" />
            </div>
        </div>
    </div>
</template>

<script>
import * as dayjs from "dayjs"
import 'dayjs/locale/ru'
export default {
    async asyncData({ $content, params }) {
        try {
            const posts = await $content("posts").sortBy('date', 'desc').fetch();
            return { posts };
        } catch {
            (err) => {
                console.log(err);
            };
        }
    },
    methods: {
        get_date(date) {
            return dayjs.unix(date).locale('ru').format('DD MMMM YYYY')
        }
    }
};
</script>
<style lang="css">
.content p {
    @apply mb-6 text-lg font-normal;
    color: #333333;
}
</style>

